import{a as d}from"./vendor-DGDcxXwr.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const n of c.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();let T=1;const a=12,h="cart",S="wishlist",x=document.querySelector(".categories"),L=document.querySelector(".products"),_=document.querySelector(".not-found"),N=document.querySelector(".search-form"),j=document.querySelector(".search-form__btn-clear"),k=document.querySelector(".load-more-btn"),l=document.querySelector(".modal"),b=document.querySelector(".modal-product"),E=document.querySelector(".modal__close-btn"),u=document.querySelector(".modal-product__btn--cart"),m=document.querySelector(".modal-product__btn--wishlist"),F=document.querySelector(".cart-summary__btn"),J=document.querySelector("[data-price]"),R=document.querySelector("[data-count]"),W=async()=>(await d.get("https://dummyjson.com/products/category-list")).data,A=async(t=1)=>{const e=await d.get("https://dummyjson.com/products/",{params:{limit:a,skip:(t-1)*a}});return console.log(e.data),e.data},H=async(t,e=1)=>{const s=await d.get(`https://dummyjson.com/products/category/${t}`,{params:{limit:a,skip:(e-1)*a}});return console.log(s.data),s.data},f=async t=>(await d.get(`https://dummyjson.com/products/${t}`)).data,K=async(t,e=1)=>{const s=await d.get("https://dummyjson.com/products/search",{params:{q:t,limit:a,skip:(e-1)*a}});return console.log(s.data),s.data};function D(t){return t.map(e=>`
        <li class="categories__item">
            <button class="categories__btn" type="button">${e}</button>
        </li>
        `).join("")}function B(t){return t.map(({id:e,title:s,thumbnail:r,brand:o,category:c,price:n})=>`
        <li class="products__item" data-id="${e}">
            <img class="products__image" src="${r}" alt="${s}"/>
            <p class="products__title">${s}</p>
            <p class="products__brand"><span class="products__brand--bold">Brand:</span>${o}</p>
            <p class="products__category">Category: ${c}</p>
            <p class="products__price">Price: ${n}$</p>
        </li>
        `).join("")}function O({title:t,images:e,description:s,shippingInformation:r,returnPolicy:o,price:c,tags:n}){const P=n.map(w=>`
        <li class="modal-product__tags-item">${w}</li>
        `).join("");return`
        <img class="modal-product__img" src="${e[0]}" alt="${t}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${t}</p>
        <ul class="modal-product__tags">${P}</ul>
        <p class="modal-product__description">${s}</p>
        <p class="modal-product__shipping-information">Shipping: ${r}</p>
        <p class="modal-product__return-policy">Return Policy: ${o}</p>
        <p class="modal-product__price">Price: ${c}$</p>
        <button class="modal-product__buy-btn" type="button">Buy</button>
      </div>
        `}function I(t){L.innerHTML=B(t),t.length?_.classList.remove("not-found--visible"):_.classList.add("not-found--visible")}function U(){document.querySelectorAll(".categories__btn").forEach(t=>t.classList.remove("categories__btn--active"))}function g(t){const e=document.querySelector(`[data-${t}-count]`),s=JSON.parse(localStorage.getItem(t))||[];e.textContent=s.length}async function Y(t,e){{const s=JSON.parse(localStorage.getItem(t))||[];try{const r=await Promise.all(s.map(({id:o})=>f(o)));I(r,L),g(t)}catch(r){console.error("Не вдалося завантажити список бажаного:",r)}e(),p()}}function z(t){const e=document.querySelector(".load-more-btn"),{skip:s,limit:r,total:o}=t;s+r<o?e.classList.remove("is-hidden"):e.classList.add("is-hidden")}async function v(t,e,s,r){let o=JSON.parse(localStorage.getItem(e))||[];if(o.findIndex(({id:n})=>n===t)===-1)try{const n=await f(t);o.push(n),localStorage.setItem(e,JSON.stringify(o)),s.textContent=`Remove from ${r}`,g(e)}catch(n){console.log(n.message)}else o=o.filter(({id:n})=>n!==t),localStorage.setItem(e,JSON.stringify(o)),s.textContent=`Add to ${r}`,g(e)}E.addEventListener("click",p);l.addEventListener("click",t=>{t.target===l&&p()});let i=null;async function G(t){const s=t.target.closest(".products__item");if(s){i=+s.dataset.id;try{const r=await f(i);b.innerHTML=O(r),l.classList.add("modal--is-open"),y(u,h,"Cart"),y(m,S,"Wishlist"),document.addEventListener("keydown",$),u.addEventListener("click",C),m.addEventListener("click",q)}catch(r){console.log(r.message)}}}function p(){l.classList.remove("modal--is-open"),b.innerHTML="",document.removeEventListener("keydown",$),u.removeEventListener("click",C),m.removeEventListener("click",q)}function $(t){t.key==="Escape"&&p()}function y(t,e,s){const o=(JSON.parse(localStorage.getItem(e))||[]).some(({id:c})=>c===i);t.textContent=o?`Remove from ${s}`:`Add to ${s}`}function C(){v(i,h,u,"Cart")}function q(){v(i,S,m,"Wishlist")}export{h as C,S as W,m as a,j as b,x as c,Y as d,W as e,D as f,f as g,A as h,B as i,z as j,u as k,k as l,F as m,J as n,G as o,L as p,R as q,I as r,N as s,U as t,g as u,H as v,K as w,T as x};
//# sourceMappingURL=modal-psy4vlUv.js.map
