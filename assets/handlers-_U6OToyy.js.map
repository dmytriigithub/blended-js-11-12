{"version":3,"file":"handlers-_U6OToyy.js","sources":["../../src/js/handlers.js"],"sourcesContent":["import { getProducts, getProductBySearch } from \"./products-api\";\nimport { PRODUCTS_CATEGORY_LIST_URL, PRODUCTS_LIST_URL, PRODUCT_SEARCH_URL, CART_PRODUCT_LS_KEY } from \"./constants\";\nimport { renderCardsList, clearFilterBtn } from \"./helpers\";\n\n//Home\n\nexport async function handlerCategoriesFilter(event) {\n    const target = event.target;\n\n    if (target.classList.contains('categories__btn--active')) return;\n\n    const category = target.textContent.trim().toLowerCase();\n\n    clearFilterBtn();\n\n    try {\n        const fetchData = category !== 'all'\n            ? await getProducts(PRODUCTS_CATEGORY_LIST_URL, category)\n            : await getProducts(PRODUCTS_LIST_URL);\n\n        renderCardsList(fetchData.products);\n        target.classList.add('categories__btn--active');\n\n    } catch (error) {\n        console.error(\"Помилка:\", error);\n    }\n\n\n}\n\nexport async function handlerClearInput(form) {\n    clearFilterBtn()\n    form.reset();\n\n    try {\n        const data = await getProducts(PRODUCTS_LIST_URL)\n        renderCardsList(data.products);\n\n    } catch (error) {\n        console.error(\"Помилка:\", error);\n    }\n}\n\n\nexport async function handlerInputSearch(event) {\n    event.preventDefault();\n    clearFilterBtn();\n    const form = event.target;\n    const searchValue = form.elements.searchValue.value.trim().toLowerCase();\n\n    if (!searchValue) {\n        return;\n    }\n\n    try {\n        const searchProducts = await getProductBySearch(PRODUCT_SEARCH_URL, searchValue);\n        renderCardsList(searchProducts.products);\n    } catch (error) {\n        console.error(\"Помилка:\", error);\n    }\n\n    form.reset();\n}\n\nexport function onBuy() {\n    const wishlist = JSON.parse(localStorage.getItem(CART_PRODUCT_LS_KEY)) || [];\n    if (!wishlist.length) {\n        alert('у кошику немає товарів');\n    } else {\n        alert('успішне придбання товарів');\n    }\n\n}\n\n"],"names":["handlerCategoriesFilter","event","target","category","clearFilterBtn","fetchData","getProducts","PRODUCTS_CATEGORY_LIST_URL","PRODUCTS_LIST_URL","renderCardsList","error","handlerClearInput","form","data","handlerInputSearch","searchValue","searchProducts","getProductBySearch","PRODUCT_SEARCH_URL","onBuy","CART_PRODUCT_LS_KEY"],"mappings":"yFAMO,eAAeA,EAAwBC,EAAO,CACjD,MAAMC,EAASD,EAAM,OAErB,GAAIC,EAAO,UAAU,SAAS,yBAAyB,EAAG,OAE1D,MAAMC,EAAWD,EAAO,YAAY,KAAM,EAAC,YAAW,EAEtDE,IAEA,GAAI,CACA,MAAMC,EAAYF,IAAa,MACzB,MAAMG,EAAYC,EAA4BJ,CAAQ,EACtD,MAAMG,EAAYE,CAAiB,EAEzCC,EAAgBJ,EAAU,QAAQ,EAClCH,EAAO,UAAU,IAAI,yBAAyB,CAEjD,OAAQQ,EAAO,CACZ,QAAQ,MAAM,WAAYA,CAAK,CAClC,CAGL,CAEO,eAAeC,EAAkBC,EAAM,CAC1CR,EAAgB,EAChBQ,EAAK,MAAK,EAEV,GAAI,CACA,MAAMC,EAAO,MAAMP,EAAYE,CAAiB,EAChDC,EAAgBI,EAAK,QAAQ,CAEhC,OAAQH,EAAO,CACZ,QAAQ,MAAM,WAAYA,CAAK,CAClC,CACL,CAGO,eAAeI,EAAmBb,EAAO,CAC5CA,EAAM,eAAc,EACpBG,IACA,MAAMQ,EAAOX,EAAM,OACbc,EAAcH,EAAK,SAAS,YAAY,MAAM,KAAI,EAAG,cAE3D,GAAKG,EAIL,IAAI,CACA,MAAMC,EAAiB,MAAMC,EAAmBC,EAAoBH,CAAW,EAC/EN,EAAgBO,EAAe,QAAQ,CAC1C,OAAQN,EAAO,CACZ,QAAQ,MAAM,WAAYA,CAAK,CAClC,CAEDE,EAAK,MAAK,EACd,CAEO,SAASO,GAAQ,EACH,KAAK,MAAM,aAAa,QAAQC,CAAmB,CAAC,GAAK,IAC5D,OAGV,MAAM,2BAA2B,EAFjC,MAAM,wBAAwB,CAKtC"}