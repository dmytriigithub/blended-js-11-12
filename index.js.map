{"version":3,"file":"index.js","sources":["../src/home.js"],"sourcesContent":["//Логіка сторінки Home\nimport { CATEGORY_LIST_URL, PRODUCTS_LIST_URL, CART_PRODUCT_LS_KEY, WISHLIST_PRODUCT_LS_KEY, currentPage } from \"./js/constants\";\nimport { categories, products, searchForm, searchFormBtnClear, loadMoreBtn } from \"./js/refs\";\nimport { categoriesItemMarkup, productsCardMarkup } from \"./js/render-function\";\nimport { getCategoryList, getProducts } from \"./js/products-api\";\nimport { handlerCategoriesFilter, handlerInputSearch, handlerClearInput } from \"./js/handlers\";\nimport { openModal } from \"./js/modal\";\nimport { updateNavCount } from \"./js/helpers\";\n\nlet page = currentPage;\nupdateNavCount(CART_PRODUCT_LS_KEY);\nupdateNavCount(WISHLIST_PRODUCT_LS_KEY);\n\ncategories.addEventListener('click', handlerCategoriesFilter);\nsearchForm.addEventListener('submit', handlerInputSearch);\nproducts.addEventListener('click', openModal);\n\nsearchFormBtnClear.addEventListener('click', (event) => {\n    if (event.target === searchFormBtnClear) {\n        const form = document.querySelector('.search-form');\n        handlerClearInput(form);\n    }\n});\n\ninitHomePage();\n\nasync function initHomePage() {\n    try {\n        const categoryList = await getCategoryList(CATEGORY_LIST_URL);\n        const allCategories = ['All', ...categoryList];\n        categories.insertAdjacentHTML('beforeend', categoriesItemMarkup(allCategories));\n    } catch (error) {\n        console.log(\"Помилка при отриманні категорій:\", error);\n    }\n\n    initProducts()\n}\n\nasync function initProducts(currentPage) {\n\n    try {\n        const productsList = await getProducts(PRODUCTS_LIST_URL, '', currentPage);\n        products.insertAdjacentHTML('beforeend', productsCardMarkup(productsList.products));\n    } catch (error) {\n        console.log(\"Помилка при отриманні продуктів:\", error);\n    }\n}\n\nconsole.log(currentPage);\n\n\nloadMoreBtn.addEventListener('click', () => {\n    page += 1;\n    initProducts(page)\n\n})\n"],"names":["page","currentPage","updateNavCount","CART_PRODUCT_LS_KEY","WISHLIST_PRODUCT_LS_KEY","categories","handlerCategoriesFilter","searchForm","handlerInputSearch","products","openModal","searchFormBtnClear","event","form","handlerClearInput","initHomePage","allCategories","getCategoryList","CATEGORY_LIST_URL","categoriesItemMarkup","error","initProducts","productsList","getProducts","PRODUCTS_LIST_URL","productsCardMarkup","loadMoreBtn"],"mappings":"4PASA,IAAIA,EAAOC,EACXC,EAAeC,CAAmB,EAClCD,EAAeE,CAAuB,EAEtCC,EAAW,iBAAiB,QAASC,CAAuB,EAC5DC,EAAW,iBAAiB,SAAUC,CAAkB,EACxDC,EAAS,iBAAiB,QAASC,CAAS,EAE5CC,EAAmB,iBAAiB,QAAUC,GAAU,CACpD,GAAIA,EAAM,SAAWD,EAAoB,CACrC,MAAME,EAAO,SAAS,cAAc,cAAc,EAClDC,EAAkBD,CAAI,CACzB,CACL,CAAC,EAEDE,IAEA,eAAeA,GAAe,CAC1B,GAAI,CAEA,MAAMC,EAAgB,CAAC,MAAO,GADT,MAAMC,EAAgBC,CAAiB,CACf,EAC7Cb,EAAW,mBAAmB,YAAac,EAAqBH,CAAa,CAAC,CACjF,OAAQI,EAAO,CACZ,QAAQ,IAAI,mCAAoCA,CAAK,CACxD,CAEDC,EAAc,CAClB,CAEA,eAAeA,EAAapB,EAAa,CAErC,GAAI,CACA,MAAMqB,EAAe,MAAMC,EAAYC,EAAmB,GAAIvB,CAAW,EACzEQ,EAAS,mBAAmB,YAAagB,EAAmBH,EAAa,QAAQ,CAAC,CACrF,OAAQF,EAAO,CACZ,QAAQ,IAAI,mCAAoCA,CAAK,CACxD,CACL,CAEA,QAAQ,IAAInB,CAAW,EAGvByB,EAAY,iBAAiB,QAAS,IAAM,CACxC1B,GAAQ,EACRqB,EAAarB,CAAI,CAErB,CAAC"}