{"version":3,"file":"wishlist.js","sources":["../src/wishlist.js"],"sourcesContent":["//Логіка сторінки Wishlist\n\nimport { WISHLIST_PRODUCT_LS_KEY, CART_PRODUCT_LS_KEY } from \"./js/constants\";\nimport { products, addToWishlistBtn } from \"./js/refs\";\nimport { openModal } from \"./js/modal\";\nimport { updateNavCount, deleteFromList, renderCardsList } from \"./js/helpers\";\nimport { getProduct } from \"./js/products-api\";\n\n\n\nloadWishlistPage(WISHLIST_PRODUCT_LS_KEY);\n\nproducts.addEventListener('click', openModal);\naddToWishlistBtn.addEventListener('click', deleteCard);\n\n\nfunction deleteCard() {\n    deleteFromList(WISHLIST_PRODUCT_LS_KEY, loadWishlistPage);\n}\n\nexport async function loadWishlistPage() {\n    updateNavCount(CART_PRODUCT_LS_KEY);\n    updateNavCount(WISHLIST_PRODUCT_LS_KEY);\n    const wishlist = JSON.parse(localStorage.getItem(WISHLIST_PRODUCT_LS_KEY)) || [];\n\n    if (wishlist.length === 0) {\n        products.innerHTML = '<li><h2>Список бажаного порожній.</h2></li>';\n        return;\n    }\n\n    try {\n        const wishProducts = await Promise.all(\n            wishlist.map(({ id }) => getProduct(id))\n        );\n\n        renderCardsList(wishProducts, products);\n        updateNavCount(CART_PRODUCT_LS_KEY);\n        updateNavCount(WISHLIST_PRODUCT_LS_KEY);\n\n    } catch (error) {\n        console.error('Не вдалося завантажити список бажаного:', error);\n    }\n}"],"names":["loadWishlistPage","products","openModal","addToWishlistBtn","deleteCard","deleteFromList","WISHLIST_PRODUCT_LS_KEY","updateNavCount","CART_PRODUCT_LS_KEY","wishlist","wishProducts","id","getProduct","renderCardsList","error"],"mappings":"2IAUAA,EAAwC,EAExCC,EAAS,iBAAiB,QAASC,CAAS,EAC5CC,EAAiB,iBAAiB,QAASC,CAAU,EAGrD,SAASA,GAAa,CAClBC,EAAeC,EAAyBN,CAAgB,CAC5D,CAEO,eAAeA,GAAmB,CACrCO,EAAeC,CAAmB,EAClCD,EAAeD,CAAuB,EACtC,MAAMG,EAAW,KAAK,MAAM,aAAa,QAAQH,CAAuB,CAAC,GAAK,GAE9E,GAAIG,EAAS,SAAW,EAAG,CACvBR,EAAS,UAAY,8CACrB,MACH,CAED,GAAI,CACA,MAAMS,EAAe,MAAM,QAAQ,IAC/BD,EAAS,IAAI,CAAC,CAAE,GAAAE,CAAE,IAAOC,EAAWD,CAAE,CAAC,CACnD,EAEQE,EAAgBH,EAAcT,CAAQ,EACtCM,EAAeC,CAAmB,EAClCD,EAAeD,CAAuB,CAEzC,OAAQQ,EAAO,CACZ,QAAQ,MAAM,0CAA2CA,CAAK,CACjE,CACL"}